<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Inertia</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="site.desc">
<meta property="og:type" content="website">
<meta property="og:title" content="Inertia">
<meta property="og:url" content="http://nberserk.github.io/page/4/index.html">
<meta property="og:site_name" content="Inertia">
<meta property="og:description" content="site.desc">
<meta property="og:locale" content="ko_KR">
<meta property="article:author" content="@nberserk">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Inertia" type="application/atom+xml">
  
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" integrity="sha384-XdYbMnZ/QjLh6iI4ogqCTaIjrFk87ip+ekIjefZch0Y+PvJ8CDYtEs1ipDmPorQ+" crossorigin="anonymous">

  
<link rel="stylesheet" href="/css/styles.css">

  

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <nav class="navbar navbar-inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="main-menu-navbar">
      <ul class="nav navbar-nav">
        
          <li><a class=""
                 href="/index.html">Home</a></li>
        
          <li><a class=""
                 href="/archives/">Archives</a></li>
        
      </ul>

      <!--
      <ul class="nav navbar-nav navbar-right">
        
          <li><a href="/atom.xml" title="RSS Feed"><i class="fa fa-rss"></i></a></li>
        
      </ul>
      -->
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

  <div class="container">
    <div class="blog-header">
  <h1 class="blog-title">Inertia</h1>
  
</div>

    <div class="row">
        <div class="col-sm-8 blog-main">
          
  
    <article id="post-mybatis-mapper" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/19/mybatis-mapper/">mybatis mapper</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2018/06/19/mybatis-mapper/" class="article-date"><time datetime="2018-06-19T09:23:13.000Z" itemprop="datePublished">2018-06-19</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p> 주로 spring과 함께 사용하는 mybatis. java persistence framework으로서 Hibernate 같은 미들웨어 되겠다.</p>
<h2 id="Dynamic-SQL"><a href="#Dynamic-SQL" class="headerlink" title="Dynamic SQL"></a>Dynamic SQL</h2> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">ORDER</span> O</span><br><span class="line">&lt;<span class="keyword">trim</span> prefix=<span class="string">"WHERE"</span> prefixOverrides=<span class="string">"AND|OR"</span>&gt;</span><br><span class="line">    &lt;<span class="keyword">if</span> <span class="keyword">test</span>=<span class="string">"searchText != null"</span>&gt;</span><br><span class="line">        <span class="keyword">AND</span> <span class="keyword">MATCH</span>(O.name) AGAINST(#&#123;searchText&#125; <span class="keyword">IN</span> <span class="built_in">BOOLEAN</span> <span class="keyword">MODE</span>)</span><br><span class="line">    &lt;/<span class="keyword">if</span>&gt;</span><br><span class="line">    &lt;<span class="keyword">if</span> <span class="keyword">test</span>=<span class="string">"price != null"</span>&gt;</span><br><span class="line">        <span class="keyword">AND</span> O.price = #&#123;price&#125;</span><br><span class="line">    &lt;/<span class="keyword">if</span>&gt;</span><br><span class="line">    &lt;<span class="keyword">if</span> <span class="keyword">test</span>=<span class="string">"searchText != null"</span>&gt;</span><br><span class="line">        <span class="keyword">AND</span> pattern <span class="keyword">like</span> <span class="keyword">CONCAT</span>(<span class="string">'%'</span>,#&#123;searchText&#125;,<span class="string">'%'</span>)</span><br><span class="line">    &lt;/<span class="keyword">if</span>&gt;</span><br><span class="line">&lt;/<span class="keyword">trim</span>&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>concat example</li>
<li>conditional query with trim and if</li>
</ul>
<p>여기서 trim은 2가지 일을 하는데 trim안의 컨텐츠가 있으면 prefix를 붙여주고, trim안에 sql문에 <code>prefixOverrides</code>에 있는 단어가 있으면 삭제해준다. 여기서는 AND나 OR가 된다.<br>마찬가지로 <code>suffixOverrides</code>는 끝에 붙는 단어를 삭제할 수 있다.<br>-</p>
<h2 id="하나의-mapper에-여러개의-sql문-사용하기"><a href="#하나의-mapper에-여러개의-sql문-사용하기" class="headerlink" title="하나의 mapper에 여러개의 sql문 사용하기"></a>하나의 mapper에 여러개의 sql문 사용하기</h2><p> 하나의 mapper에 아래처럼 복수개의 sql문을 사용할 수 있을까? 결론은 YES!</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">"deleteById"</span> <span class="attr">parameterType</span>=<span class="string">"Integer"</span>&gt;</span></span><br><span class="line">       DELETE FROM ORDER WHERE product_id=#&#123;value&#125;;</span><br><span class="line">       DELETE FROM PRODUCT WHERE id = #&#123;value&#125;</span><br><span class="line">   <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p> 이것을 하려면 JDBC URL에 <code>allowMultiQueries=true</code>를 사용하면 된다. 아래처럼.</p>
<blockquote>
<p>db.url=jdbc:mysql://127.0.0.1:33/orderdb?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;autoReconnect=true&amp;serverTimezone=UTC&amp;allowMultiQueries=true</p>
</blockquote>
<h2 id="로깅"><a href="#로깅" class="headerlink" title="로깅"></a>로깅</h2><p>mybatis 쿼리가 제대로 동작안될때 Mapper안에 브레이크를 걸거나 할 수없기 때문에 디버깅이 어려워서 간단한 실수로 시간낭비를 하는 케이스가 꽤 있다.<br>이럴때 로깅 옵션을 enable해서 보면 도움이 된다.</p>
<p>logback 의 옵션은 아래처럼 mapper의 package name르 아래처럼 적어주면 된다.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">"mapper.package.name"</span> <span class="attr">level</span>=<span class="string">"DEBUG"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://nberserk.github.io/2018/06/19/mybatis-mapper/" data-id="ckqe4m42w0020rcqy15bl5cwe" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://nberserk.github.io/2018/06/19/mybatis-mapper/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mybatis/" rel="tag">mybatis</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-angular-form-validation" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/12/angular-form-validation/">angular form validation</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2018/06/12/angular-form-validation/" class="article-date"><time datetime="2018-06-12T10:28:22.000Z" itemprop="datePublished">2018-06-12</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>앞서 기본적인 <a href="/2018/06/12/angular-form">angular form</a> 에 대해서 알아봤는데, 이번에는 form validation에 대해서 알아보자.</p>
<h2 id="using-built-in-validator"><a href="#using-built-in-validator" class="headerlink" title="using built-in validator"></a>using built-in validator</h2><p>angular에서 built-in validator의 종류는 다음과 같다.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>attribute selector</th>
<th>desc</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://angular.io/api/forms/RequiredValidator" target="_blank" rel="noopener">RequiredValidator</a></td>
<td>[required]</td>
<td></td>
</tr>
<tr>
<td><a href="https://angular.io/api/forms/MinLengthValidator" target="_blank" rel="noopener">MinLengthValidator</a></td>
<td>[minlength]</td>
</tr>
<tr>
<td><a href="https://angular.io/api/forms/MaxLengthValidator" target="_blank" rel="noopener">MaxLengthValidator</a></td>
<td>[maxlength]</td>
</tr>
<tr>
<td><a href="https://angular.io/api/forms/PatternValidator" target="_blank" rel="noopener">PatternValidator</a></td>
<td>[pattern]</td>
</tr>
</tbody>
</table>
<p>기타로 EmailValidator, CheckboxRequiredValidator 등도 있다. 위의 Validator들은 아래처럼 selector로 directive가 적용되게 할 수 있다.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;form (ngSubmit)=<span class="string">"onSubmit(heroForm)"</span> #heroForm=<span class="string">"ngForm"</span> #form&gt;</span><br><span class="line">  &lt;div <span class="keyword">class</span>=<span class="string">"form-group"</span>&gt;</span><br><span class="line">    &lt;label <span class="keyword">for</span>=<span class="string">"name"</span>&gt;Name</span><br><span class="line">      &lt;input <span class="keyword">class</span>=<span class="string">"form-control"</span> name=<span class="string">"name"</span> required minlength=<span class="string">"2"</span> maxlength=<span class="string">"100"</span> pattern=<span class="string">"[a-z0-9]+"</span> &gt;</span><br><span class="line">    &lt;<span class="regexp">/label&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">  &lt;button <span class="keyword">type</span>=<span class="string">"submit"</span> [disabled]=<span class="string">"!heroForm.form.valid"</span>&gt;Submit&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>form&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>input에 있는 required selector에 의해서 RequiredValidator가 적용됨</li>
<li>마찬가지로 minlength|maxlength selector에 의해서 MinLengthValidator와 MaxLengthValidator가 적용됨</li>
<li>pattern selector에 의해서 소문자와 숫자만 입력할 수 있게 함.</li>
</ul>
<h2 id="showerror-component"><a href="#showerror-component" class="headerlink" title="showerror component"></a>showerror component</h2><p>기본적으로 Validator를 적용해서 ValidationErrors가 발행하게 되면 <code>control.errors</code>에 에러가 들어오게 된다.<br>아래는 이것을 이용해서 form의 에러를 핸들링하는 컴포넌트다.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// show-errors.component.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; Component, Input &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; AbstractControlDirective, AbstractControl &#125; <span class="keyword">from</span> <span class="string">'@angular/forms'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line"> selector: <span class="string">'show-errors'</span>,</span><br><span class="line"> template: <span class="string">`</span></span><br><span class="line"><span class="string">   &lt;ul *ngIf="shouldShowErrors()"&gt;</span></span><br><span class="line"><span class="string">     &lt;li style="color: red" *ngFor="let error of listOfErrors()"&gt;&#123;&#123;error&#125;&#125;&lt;/li&gt;</span></span><br><span class="line"><span class="string">   &lt;/ul&gt;</span></span><br><span class="line"><span class="string"> `</span>,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> ShowErrorsComponent &#123;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">private</span> <span class="keyword">static</span> readonly errorMessages = &#123;</span><br><span class="line">   <span class="string">'required'</span>: <span class="function"><span class="params">()</span> =&gt;</span> <span class="string">'This field is required'</span>,</span><br><span class="line">   <span class="string">'minlength'</span>: <span class="function">(<span class="params">params</span>) =&gt;</span> <span class="string">'The min number of characters is '</span> + params.requiredLength,</span><br><span class="line">   <span class="string">'maxlength'</span>: <span class="function">(<span class="params">params</span>) =&gt;</span> <span class="string">'The max allowed number of characters is '</span> + params.requiredLength,</span><br><span class="line">   <span class="string">'pattern'</span>: <span class="function">(<span class="params">params</span>) =&gt;</span> <span class="string">'The required pattern is: '</span> + params.requiredPattern,</span><br><span class="line">   <span class="string">'custom'</span>: <span class="function">(<span class="params">params</span>) =&gt;</span> params.message</span><br><span class="line"> &#125;;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Input</span>()</span><br><span class="line"> <span class="keyword">private</span> control: AbstractControlDirective | AbstractControl;</span><br><span class="line"></span><br><span class="line"> shouldShowErrors(): <span class="built_in">boolean</span> &#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">this</span>.control &amp;&amp;</span><br><span class="line">     <span class="keyword">this</span>.control.errors &amp;&amp;</span><br><span class="line">     (<span class="keyword">this</span>.control.dirty || <span class="keyword">this</span>.control.touched);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> listOfErrors(): <span class="built_in">string</span>[] &#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="built_in">Object</span>.keys(<span class="keyword">this</span>.control.errors)</span><br><span class="line">     .map(<span class="function"><span class="params">field</span> =&gt;</span> <span class="keyword">this</span>.getMessage(field, <span class="keyword">this</span>.control.errors[field]));</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">private</span> getMessage(<span class="keyword">type</span>: <span class="built_in">string</span>, params: <span class="built_in">any</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (params.message) &#123;</span><br><span class="line">      <span class="keyword">return</span> params.message;</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="keyword">return</span> ShowErrorsComponent.errorMessages[<span class="keyword">type</span>](params);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>위 소스의 출처는 <a href="https://www.toptal.com/angular-js/angular-4-forms-validation" target="_blank" rel="noopener">https://www.toptal.com/angular-js/angular-4-forms-validation</a> 에서 가지고 왔고 getMessage부분을 약간 변형을 했다.</p>
<h2 id="custome-validator"><a href="#custome-validator" class="headerlink" title="custome validator"></a>custome validator</h2><p>하다보면 custom validator가 필요한데 이런식으로 만들어보면 된다.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Directive &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; NG_VALIDATORS, Validator, FormControl, ValidationErrors &#125; <span class="keyword">from</span> <span class="string">'@angular/forms'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Directive</span>(&#123;</span><br><span class="line"> selector: <span class="string">'[telephoneNumber]'</span>,</span><br><span class="line"> providers: [&#123;provide: NG_VALIDATORS, useExisting: TelephoneNumberFormatValidatorDirective, multi: <span class="literal">true</span>&#125;]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> TelephoneNumberFormatValidatorDirective <span class="keyword">implements</span> Validator &#123;</span><br><span class="line"></span><br><span class="line"> validate(c: FormControl): ValidationErrors &#123;</span><br><span class="line">   <span class="keyword">const</span> isValidPhoneNumber = <span class="regexp">/^\d&#123;3,3&#125;-\d&#123;3,3&#125;-\d&#123;3,3&#125;$/</span>.test(c.value);</span><br><span class="line">   <span class="keyword">const</span> message = &#123;</span><br><span class="line">     <span class="string">'telephoneNumber'</span>: &#123;</span><br><span class="line">       <span class="string">'message'</span>: <span class="string">'The phone number must be valid (XXX-XXX-XXX, where X is a digit)'</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="keyword">return</span> isValidPhoneNumber ? <span class="literal">null</span> : message;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>위 Validator를 적용하려면 앞서 예제와 같이 <code>&lt;input&gt;</code> tag에 validator의 selector인 <code>telephoneNumber</code>를 추가해주면 적용이 된다.</p>
<h2 id="server-validatoin"><a href="#server-validatoin" class="headerlink" title="server validatoin"></a>server validatoin</h2><p>위의 예제에서 progrmatically 에러를 추가하고 싶을때(서버단에서 에러가 났을때) 이렇게 하면 된다.</p>
<p>우선 Form 변수를 <code>@ViewChild</code>로 매핑 시켜 주고, FormControl의 setErrors함수를 통해서 custom ValidationError를 Set할 수 있다.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ViewChild</span>(<span class="string">'heroForm'</span>) form: NgForm;</span><br><span class="line"><span class="keyword">this</span>.form.controls[<span class="string">'name'</span>].setErrors(&#123; server: &#123; message: err.error.message &#125; &#125;);</span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.toptal.com/angular-js/angular-4-forms-validation" target="_blank" rel="noopener">https://www.toptal.com/angular-js/angular-4-forms-validation</a></li>
</ul>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://nberserk.github.io/2018/06/12/angular-form-validation/" data-id="ckqe4m42x0021rcqyzzilp0jo" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://nberserk.github.io/2018/06/12/angular-form-validation/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/angular/" rel="tag">angular</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-angular-attribute-directive" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/12/angular-attribute-directive/">angular attribute directive</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2018/06/12/angular-attribute-directive/" class="article-date"><time datetime="2018-06-12T10:20:43.000Z" itemprop="datePublished">2018-06-12</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>angular에서 3대 구성요소중 하나인 attribute directive에 대해서 정리.</p>
<h2 id="attribute-directive"><a href="#attribute-directive" class="headerlink" title="attribute directive"></a>attribute directive</h2><p>highlight-directive.ts</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Directive, ElementRef &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Directive</span>(&#123;</span><br><span class="line">  selector: <span class="string">'[appHighlight]'</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> HighlightDirective &#123;</span><br><span class="line">  <span class="meta">@Input</span>() highlightColor: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">el: ElementRef</span>) &#123;</span><br><span class="line">    el.nativeElement.style.backgroundColor = <span class="string">'yellow'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>test.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">appHighlight</span> <span class="attr">highlightColor</span>=<span class="string">"yellow"</span>&gt;</span>Highlighted in yellow<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>위 예제는 <a href="https://angular.io/guide/attribute-directives" target="_blank" rel="noopener">여기</a>서 가져왔음.</p>
<ul>
<li>selector 문법인 <code>[tag]</code>는 attribute selector 이다. 예제는 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Attribute_selectors" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/CSS/Attribute_selectors</a> 여기를 보면 된다.</li>
<li>위 html의 appHighlight를 사용하는 것만으로 p 에 HighlightDirective 구현을 적용하게 된다. 그렇게 되면 디렉티브의 변수인 highlightColor를 attribute처럼 사용할 수 있다.</li>
<li>directive의 selector에 app prefix를 붙이는 것은 충돌방지를 위한 것. 특별한 의미 없고 angular측에서 권장하는 practice.</li>
</ul>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://nberserk.github.io/2018/06/12/angular-attribute-directive/" data-id="ckqe4m42t001wrcqy9hv918f0" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://nberserk.github.io/2018/06/12/angular-attribute-directive/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/angular/" rel="tag">angular</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-angular-form" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/11/angular-form/">angular form</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2018/06/11/angular-form/" class="article-date"><time datetime="2018-06-12T02:50:30.000Z" itemprop="datePublished">2018-06-12</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>angular form에 관한 정리. 폼은 template based로 구성할 수도 있도, 타입스크립트로도 구성할 수 있는데 여기서는 template based만 설명할 예정. 그것이 더 깔끔하다고 생각되기 때문.</p>
<h2 id="form"><a href="#form" class="headerlink" title="form"></a>form</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;form (ngSubmit)=<span class="string">"onSubmit(heroForm)"</span> #heroForm=<span class="string">"ngForm"</span> #form&gt;</span><br><span class="line">  &lt;div <span class="keyword">class</span>=<span class="string">"form-group"</span>&gt;</span><br><span class="line">    &lt;label <span class="keyword">for</span>=<span class="string">"name"</span>&gt;Name</span><br><span class="line">      &lt;input <span class="keyword">class</span>=<span class="string">"form-control"</span> name=<span class="string">"name"</span> required [(ngModel)]=<span class="string">"hero.name"</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/label&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">  &lt;button <span class="keyword">type</span>=<span class="string">"submit"</span> [disabled]=<span class="string">"!heroForm.form.valid"</span>&gt;Submit&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>form&gt;</span><br></pre></td></tr></table></figure>
<p>위 예제 출처는 angular.io 공식 사이트에서 가져왔다.</p>
<p>여기서 우리가 주의해서 봐야할 포인트는</p>
<ul>
<li><code>#heroForm</code> 과 <code>#form</code>은 <a href="https://angular.io/guide/template-syntax#ref-vars" target="_blank" rel="noopener">template reference variable</a> 임.<ul>
<li>기본적으로 <code>#form</code>은 dom reference-여기서는 <code>&lt;form&gt;</code>- 의 <a href="https://angular.io/api/core/ElementRef" target="_blank" rel="noopener">ElementRef</a> 가 연결됨.</li>
<li>heroForm에서 사용된 ngForm은 angular의 내장되어 있는 ngForm directive를 사용한 것임. 그래서 기존 dom에는 없는 <code>heroForm.form</code>을 사용할 수 있는 것임. 이것은 type은 <a href="https://angular.io/api/forms/NgForm" target="_blank" rel="noopener">NgForm</a>이 됨.</li>
<li>typescript 에서는 <code>ViewChild(&#39;heroForm&#39;)</code>으로 reference 를 받아올수도 있음</li>
</ul>
</li>
<li>template reference variable은 template 같은 템플릿 안에서 사용할 수 있음</li>
<li><code>[(ngModel)]</code> 은 양방향 바인딩한다는 뜻으로 typescript에 있는 hero.name 변수에 양방향 바인딩 된다.</li>
</ul>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://nberserk.github.io/2018/06/11/angular-form/" data-id="ckqe4m42v001yrcqyszq06xus" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://nberserk.github.io/2018/06/11/angular-form/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/angular/" rel="tag">angular</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-github-workflow" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/30/github-workflow/">github workflow</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2018/05/30/github-workflow/" class="article-date"><time datetime="2018-05-30T09:35:41.000Z" itemprop="datePublished">2018-05-30</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>얼마전 <a href="/2018/05/29/gerrit-workflow">gerrit workflow</a>에 이어서 이번에는 github의 workflow를 정리해 본다. github는 거의 pull request(이하 PR)이 전부다. 요즘 거의 모든 github를 사용하는 프로젝트들은 대개 이런 flow로 개발이 되기 때문에 처음에 조금 복잡해 보일지라도 익혀 두면 도움이 될 것이다.</p>
<h2 id="준비"><a href="#준비" class="headerlink" title="준비"></a>준비</h2><p>우선 설명을 쉽게 하기 위해서 아파치 오픈소스 프로젝트인 <a href="https://github.com/apache/zeppelin" target="_blank" rel="noopener">Zeppelin</a>을 기준으로 정리한다.</p>
<p>내가 이 Zeppelin프로젝트의 개발에 참여하기 위해서는 우선 이 프로젝트를 <code>fork</code>해야 한다. fork를 하게 되면 내 github의 계정에 fork된 repository가 생기게 된다. 나의 경우는 아래처럼 만들어졌다.</p>
<blockquote>
<p><a href="https://github.com/nberserk/zeppelin" target="_blank" rel="noopener">https://github.com/nberserk/zeppelin</a></p>
</blockquote>
<p>이렇게 포크된 git repository를 내 로컬에 클론한다.</p>
<blockquote>
<p>git clone <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:nberserk/zeppelin.git</p>
</blockquote>
<p>그리고 나중에 PR을 위해서 upstream 이라는 remote를 추가해준다.</p>
<blockquote>
<p>git remote add upstream <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:apache/zeppelin.git</p>
</blockquote>
<p>따라서 origin은 nberserk/zepplein.git 이고 upstream은 apache/zeppelin.git이 된다.</p>
<h2 id="PR"><a href="#PR" class="headerlink" title="PR"></a>PR</h2><p>이제 PR을 날려보자. 우선 master branch로 변경하고 upstream의 최신 사항을 origin에 반영해 준다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">git fetch upstream <span class="comment"># update apache remote</span></span><br><span class="line">git rebase upstream/master <span class="comment"># rebase upstream/master to current branch(master)</span></span><br><span class="line"><span class="comment"># make tracking branch 이렇게하면 upstream은 apache master와 싱크를 하게 되고, 로컬에 unpushed commit이 생기게 된다.</span></span><br><span class="line">git push <span class="comment"># git push로 origin의 git에 최신사항으로 업데이트 함.</span></span><br></pre></td></tr></table></figure>
<p>우선 토픽 브랜치 만들고</p>
<blockquote>
<p>git checkout -b topic</p>
</blockquote>
<p>변경사항을 커밋하고</p>
<blockquote>
<p>git add .<br>git commit -m “desc”</p>
</blockquote>
<p>토픽 브랜치를 origin으로 push</p>
<blockquote>
<p>git push -u origin topic</p>
</blockquote>
<p>이 상태에서 github의 nberserk/zeppelin으로 가서 새 PR을 만들면 된다.</p>
<p>그러면 upstream의 maintainer가 리뷰하고 의견을 남겨주고, 몇번의 피드백이 오고간후 머지할 준비가 되면 머지가 된다. 그러면 업스트림에 나의 코드가 반영이 된 것이다.</p>
<h2 id="conflict이-난-경우"><a href="#conflict이-난-경우" class="headerlink" title="conflict이 난 경우"></a>conflict이 난 경우</h2><p>PR중간에 conflict changes가 upstream에 커밋이 되었다면 PR에 conflict이 나기 때문에 머지가 불가능해 진다. 이럴때는 upstream을 토픽 브랜치로 머지를 해야 한다.</p>
<p>우선 upstream을 가져오고</p>
<blockquote>
<p>git fetch upstream</p>
</blockquote>
<p>topic 브랜치로 머지 한다.</p>
<blockquote>
<p>git checkout topic<br>git merge upstream/master</p>
</blockquote>
<p>conflict나는 부분을 해결한후 커밋을 하고 PR review를 다시 요청하면 된다.</p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ul>
<li><a href="https://gist.github.com/Chaser324/ce0505fbed06b947d962" target="_blank" rel="noopener">https://gist.github.com/Chaser324/ce0505fbed06b947d962</a></li>
</ul>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://nberserk.github.io/2018/05/30/github-workflow/" data-id="ckqe4m42u001xrcqymow5fa1c" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://nberserk.github.io/2018/05/30/github-workflow/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/" rel="tag">git</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/github/" rel="tag">github</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-gerrit-workflow" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/28/gerrit-workflow/">gerrit workflow</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2018/05/28/gerrit-workflow/" class="article-date"><time datetime="2018-05-29T05:43:58.000Z" itemprop="datePublished">2018-05-29</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>gerrit을 사용할때의 workflow를 정리해 본다.</p>
<h2 id="준비"><a href="#준비" class="headerlink" title="준비"></a>준비</h2><p>아래처럼 git hook을 설정.</p>
<blockquote>
<p>scp -p -P 29418 darren.ha@<git>:hooks/commit-msg <local git="" dir="">/.git/hooks/</local></git></p>
</blockquote>
<p>이것은 git commit message에 아래와 같이 change-id를 삽입하게 되는데, 이 change-id가 리뷰의 단위가 된다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">commit af6e0970c05cde2f3a40f1b89374360aaf3bb972</span><br><span class="line">Author: Darren Ha &lt;&gt;</span><br><span class="line">Date:   Tue May 29 17:22:00 2018 +0900</span><br><span class="line"></span><br><span class="line">    my changes</span><br><span class="line"></span><br><span class="line">    Change-Id: I6af3efd2b39707bcd0ec9b7815fe8ba656858456</span><br></pre></td></tr></table></figure>
<h2 id="변경사항-반영-및-리뷰-요청"><a href="#변경사항-반영-및-리뷰-요청" class="headerlink" title="변경사항 반영 및 리뷰 요청"></a>변경사항 반영 및 리뷰 요청</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b topic</span><br><span class="line"><span class="comment"># submit some changes</span></span><br><span class="line">git commit -m <span class="string">"my change"</span></span><br><span class="line">git push origin HEAD:refs/<span class="keyword">for</span>/master  <span class="comment"># request gerrit review</span></span><br></pre></td></tr></table></figure>
<h2 id="수정"><a href="#수정" class="headerlink" title="수정"></a>수정</h2><p>위 상황에서 리뷰를 통해 더 수정해야 할 사항이 생기면  <code>git commit --amend</code> 를 통해서 수정해서 리뷰를 계속한다.</p>
<h2 id="마무리"><a href="#마무리" class="headerlink" title="마무리"></a>마무리</h2><p>모든 리뷰가 끝나고 이제 반영해야 된다고 하면 gerrit에서 merge를 하고 master 브랜치로 돌아와서 origin과 싱크를 맞추면 된다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">git pull --rebase</span><br><span class="line">git branch -d topic <span class="comment"># (optional)</span></span><br></pre></td></tr></table></figure>
<h2 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h2><ul>
<li><a href="https://tech.evojam.com/2016/05/19/gerrit-based-workflow-complete-developers-walkthrough/" target="_blank" rel="noopener">https://tech.evojam.com/2016/05/19/gerrit-based-workflow-complete-developers-walkthrough/</a></li>
</ul>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://nberserk.github.io/2018/05/28/gerrit-workflow/" data-id="ckqe4m42t001vrcqy0uo5n31b" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://nberserk.github.io/2018/05/28/gerrit-workflow/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/gerrit/" rel="tag">gerrit</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/" rel="tag">git</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-jekyll-to-hexo" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/24/jekyll-to-hexo/">Jekyll to hexo</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2018/05/24/jekyll-to-hexo/" class="article-date"><time datetime="2018-05-25T03:08:28.000Z" itemprop="datePublished">2018-05-25</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>원래 jekyll을 사용하고 있었는데 딱 하나 맘에 들지 않는것이 ruby를 사용한다는 것이었다. 그래서 최근에 <a href="https://hexo.io/" target="_blank" rel="noopener">hexo</a> 라는 것을 보게 되었는데 node로 되어 있어서 migration을 해보기로 했다.</p>
<h2 id="post"><a href="#post" class="headerlink" title="post"></a>post</h2><p>우선 post는 jekyll과 hexo모두 markdown포맷을 사용하고 있기 때문에 마크다운 포맷을 복사하는 수준에서 마이그레이션이 된다. <code>jekyll/_posts/</code>에 있는 *.md파일을 <code>hexo/source/_posts/</code>로 카피만 해주면 된다.</p>
<p>asset들은  <code>jekyll/assets/</code>하위 파일들을 <code>hexo/source/images/</code>로 복사를 하고. 아래처럼 링크를 걸면 된다.</p>
<blockquote>
<p><code>![my image](/images/my-image.png)</code></p>
</blockquote>
<h2 id="disqus-커멘트-적용하기"><a href="#disqus-커멘트-적용하기" class="headerlink" title="disqus 커멘트 적용하기"></a>disqus 커멘트 적용하기</h2><p>레이아웃은 jekyll과 비슷한 템플릿 방식으로 되어 있어서 비교적 기계적으로 적용하면 된다. 나의 경우는 disqus comment를 적용했다. root의 _config.yml에 <code>disqus_shortname</code>을 선언하여 변수를 채워준 다음 <code>layout/_partial/article.ejs</code>의 끝에 아래 내용을 채워주면 된다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;% <span class="keyword">if</span> (!index &amp;&amp; post.comments &amp;&amp; config.disqus_shortname)&#123; %&gt;</span><br><span class="line">&lt;section id=<span class="string">"comments"</span>&gt;</span><br><span class="line">  &lt;div id=<span class="string">"disqus_thread"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="comment">/* * * DON'T EDIT BELOW THIS LINE * * */</span></span><br><span class="line">    (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> dsq = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>); dsq.type = <span class="string">'text/javascript'</span>; dsq.async = <span class="literal">true</span>;</span><br><span class="line">      dsq.src = <span class="string">'//'</span> + <span class="string">'&lt;%= config.disqus_shortname %&gt;'</span>  + <span class="string">'.disqus.com/embed.js'</span>;</span><br><span class="line">      (<span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>] || <span class="built_in">document</span>.getElementsByTagName(<span class="string">'body'</span>)[<span class="number">0</span>]).appendChild(dsq);</span><br><span class="line">    &#125;)();</span><br><span class="line">  &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">  &lt;noscript&gt;Please enable JavaScript to view the</span></span><br><span class="line"><span class="regexp">    &lt;a href="/</span><span class="regexp">/disqus.com/</span>?ref_noscript<span class="string">"&gt;comments powered by Disqus.&lt;/a&gt;</span></span><br><span class="line"><span class="string">  &lt;/noscript&gt;</span></span><br><span class="line"><span class="string">&lt;/section&gt;</span></span><br><span class="line"><span class="string">&lt;% &#125; %&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="theme"><a href="#theme" class="headerlink" title="theme"></a>theme</h2><p>개인적으로 css 깔끔하게 하는 것은 자신이 없어서 보통 css framework은 bootstrap을 사용한다. <a href="https://github.com/cgmartin/hexo-theme-bootstrap-blog" target="_blank" rel="noopener">bootstrap theme</a> 을 기반으로 나의 theme작업을 했고 <a href="https://github.com/nberserk/hexo-theme-bootstrap" target="_blank" rel="noopener">github에</a> 공개했다.</p>
<p>데모는 <a href="http://nberserk.github.io에" target="_blank" rel="noopener">http://nberserk.github.io에</a> 가면 된다.</p>
<p>기존의 theme에 내가 추가적으로 작업한 것은</p>
<ol>
<li>disqus comment</li>
<li>tags page</li>
<li>archive layout</li>
</ol>
<h2 id="다른-포스트-링크-걸기"><a href="#다른-포스트-링크-걸기" class="headerlink" title="다른 포스트 링크 걸기"></a>다른 포스트 링크 걸기</h2><p>아래처럼 바로 post에 링크를 걸 수 있다.</p>
<blockquote>
<p>/YYYY/MM/DD/slug</p>
</blockquote>
<h2 id="redirect"><a href="#redirect" class="headerlink" title="redirect"></a>redirect</h2><p>jekyll이랑 permanent link 방식이 조금 달라서, 기존 disqus comment의 링크가 다 깨졌는데 이것을 workaround하기 위해서 <a href="https://github.com/hexojs/hexo-generator-alias" target="_blank" rel="noopener">hexo-alias-generator</a> 를 설치했다.</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://nberserk.github.io/2018/05/24/jekyll-to-hexo/" data-id="ckqe4m42s001urcqymhqsszqv" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://nberserk.github.io/2018/05/24/jekyll-to-hexo/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-mockito" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/02/mockito/">mockito</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2018/05/02/mockito/" class="article-date"><time datetime="2018-05-02T15:00:00.000Z" itemprop="datePublished">2018-05-03</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>보통 디펜던시는 줄이는게 좋은 프랙티스로 인정받지만 실제 구현에서 디펜던시가 없을 수는 없다. 그래서 unit test를 작성할때 그런 dependency를 가지는 클래스들도 다 설정을 해야 해서 테스트가 어려워지는 문제가 있는데 이것을 획기적으로 해결한 것이 Mockito라는 프레임웍이다.</p>
<p>기본적으로 dynamic하게 class단위 mocking을 제공해서 내가 원하는 리턴값을 주게끔 하는 라이브러리인데 관심 있는 클래스의 로직만 테스트하기에는 이만한 것이 없다.</p>
<h2 id="maven"><a href="#maven" class="headerlink" title="maven"></a>maven</h2><p>메이븐 디펜던시는 아래처럼. spring boot의 경우도 1.5의 경우는 override를 해줘야 하는데, 아래처럼 모키토 버전만 잡아주면 된다.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mockito<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mockito-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.15.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="mocking"><a href="#mocking" class="headerlink" title="mocking"></a>mocking</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyTest</span></span>&#123;</span><br><span class="line">    <span class="meta">@MockBean</span></span><br><span class="line">    <span class="keyword">private</span> MessageRepository repository;</span><br><span class="line">    <span class="keyword">private</span> MessageService service;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testGetMessages</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String pid = <span class="string">"testUser"</span>;</span><br><span class="line">        String msg = <span class="string">"msg"</span>;</span><br><span class="line">     </span><br><span class="line">        when(repository.getMessage(pid)).thenReturn(msg);        </span><br><span class="line">        when(repository.getAllMessage(Mockito.anyString()))</span><br><span class="line">            .thenReturn(<span class="keyword">null</span>);</span><br><span class="line">        </span><br><span class="line">        assertTrue(service.getMessage(pid)==msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ArgumentMatcher"><a href="#ArgumentMatcher" class="headerlink" title="ArgumentMatcher"></a>ArgumentMatcher</h2><p>java8의 람다를 사용하면 ArgumentMatcher가 아주 나이스해지는데 아래 경우를 보자. 참고로 람다지원은 <a href="https://static.javadoc.io/org.mockito/mockito-core/2.18.3/org/mockito/Mockito.html#1" target="_blank" rel="noopener">mockito 2.1.0 이후부터 가능</a>하다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">verify(list, times(<span class="number">2</span>)).add(argThat(string -&gt; string.length() &lt; <span class="number">5</span>));</span><br><span class="line"></span><br><span class="line"> <span class="comment">// Java 7 equivalent - not as neat</span></span><br><span class="line"> verify(list, times(<span class="number">2</span>)).add(argThat(<span class="keyword">new</span> ArgumentMatcher()&#123;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">matches</span><span class="params">(String arg)</span> </span>&#123;</span><br><span class="line">         <span class="keyword">return</span> arg.length() &lt; <span class="number">5</span>;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;));</span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://static.javadoc.io/org.mockito/mockito-core/2.18.3/org/mockito/Mockito.html#1" target="_blank" rel="noopener">mockito reference</a></li>
</ul>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://nberserk.github.io/2018/05/02/mockito/" data-id="ckqe4m42q001trcqy2kg9stiy" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://nberserk.github.io/2018/05/02/mockito/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mockito/" rel="tag">mockito</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-c++-pointer" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/04/17/c++-pointer/">c++ pointer</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2018/04/17/c++-pointer/" class="article-date"><time datetime="2018-04-17T15:00:00.000Z" itemprop="datePublished">2018-04-18</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>c/c++에서 가장 이해하기 어려웠던 것중에 하나가 포인터가 아닐까.. </p>
<h2 id="2d-3d-array-as-a-pointer"><a href="#2d-3d-array-as-a-pointer" class="headerlink" title="2d|3d array as a pointer"></a>2d|3d array as a pointer</h2><p>2d array를 받는 포인터는 한차원 낮은 포인터로 표현될 수 있다. 여기서 size를 알아야 한차원 만큼을 offset 이동할 수 있기 때문인듯 하다. 2d array인경우 row가 1 증가할때 column 만큼의 포인터가 이동이 되어야 하는데 이것을 그냥 포인터-<code>int*</code>로 받으면 컬럼 정보를 알 수 없기 때문이다.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> row=<span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> column=<span class="number">20</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> depth=<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> a2d[row][column];</span><br><span class="line"><span class="keyword">int</span> a3d[depth][row][column];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> (*p2)[column];</span><br><span class="line"><span class="keyword">int</span> (*p3)[row][column];</span><br><span class="line">a2d[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">5</span>;</span><br><span class="line">p2 = a2d;</span><br><span class="line">p3 = a3d;</span><br><span class="line"></span><br><span class="line">assert(p2[<span class="number">1</span>][<span class="number">1</span>]==<span class="number">5</span>);</span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.quora.com/Why-can%E2%80%99t-I-store-a-2D-array-in-a-pointer-in-C++" target="_blank" rel="noopener">Why can’t I store a 2D array in a pointer in C++</a></li>
</ul>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://nberserk.github.io/2018/04/17/c++-pointer/" data-id="ckqe4m42p001srcqykdflgt9y" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://nberserk.github.io/2018/04/17/c++-pointer/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/c/" rel="tag">c++</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-vscode-tips" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/04/16/vscode-tips/">vscode tips and tricks</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2018/04/16/vscode-tips/" class="article-date"><time datetime="2018-04-16T15:00:00.000Z" itemprop="datePublished">2018-04-17</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>vscode를 사용하면서 항상 사용해오던 emacs 사용을 중단했다. 그만큼 맘에 드는 에디터 이기 때문이다.<br>visual studio code 팁들에 대해서 정리해 보자.</p>
<h2 id="shortcut-customization"><a href="#shortcut-customization" class="headerlink" title="shortcut customization"></a>shortcut customization</h2><p>keybindings.json</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123; </span><br><span class="line">    &quot;key&quot;: &quot;cmd+e&quot;,</span><br><span class="line">    &quot;command&quot;: &quot;workbench.action.quickOpen&quot; &#125;,</span><br><span class="line">&#123; </span><br><span class="line">    &quot;key&quot;: &quot;alt+shift+-&quot;,</span><br><span class="line">    &quot;command&quot;: &quot;undo&quot;,         &quot;when&quot;: &quot;textInputFocus &amp;&amp; !editorReadonly&quot; &#125;,</span><br><span class="line">&#123;</span><br><span class="line">    &quot;key&quot;: &quot;cmd+[&quot;,</span><br><span class="line">    &quot;command&quot;: &quot;workbench.action.navigateBack&quot;</span><br><span class="line">&#125;,    </span><br><span class="line">&#123;</span><br><span class="line">    &quot;key&quot;: &quot;cmd+]&quot;,</span><br><span class="line">    &quot;command&quot;: &quot;workbench.action.navigateForward&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h3 id="multiple-cursor"><a href="#multiple-cursor" class="headerlink" title="multiple cursor"></a>multiple cursor</h3><p>가장 유용한 기능중의 하나인데, 여러개의 라인에 걸쳐서 같이 편집이 가능한 기능인데 잘 쓰면 매우 유용하다. [여기에 있는 git를 보면] 이해가 갈듯하다.</p>
<p>맥에서의 단추키는 <kbd>alt+cmd+up|down</kbd> 이다. paste 단어 삭제등도 동시에 가능하다.</p>
<h2 id="settings"><a href="#settings" class="headerlink" title="settings"></a>settings</h2><p>내가 사용하고 있는 설정들..</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"editor.formatOnSave": true,        // format on save</span><br><span class="line">"editor.formatOnPaste": true,       // format on paste</span><br><span class="line">"editor.minimap.enabled": false,    // disable minimap</span><br></pre></td></tr></table></figure>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://nberserk.github.io/2018/04/16/vscode-tips/" data-id="ckqe4m42o001rrcqysmhx5lfe" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://nberserk.github.io/2018/04/16/vscode-tips/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vscode/" rel="tag">vscode</a></li></ul>


    </footer>
  </div>
  
</article>



  


  <div id="page-nav">
    <nav><ul class="pagination"><li><a class="page-prev" rel="prev" href="/page/3/"><i class="fa fa-chevron-left"></i> Prev</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><a class="page-number" href="/page/3/">3</a></li><li class="active"><span class="page-number">4</span></li><li><a class="page-number" href="/page/5/">5</a></li><li><a class="page-number" href="/page/6/">6</a></li><li class="disabled"><span class="page-space">&hellip;</span></li><li><a class="page-number" href="/page/10/">10</a></li><li><a class="page-next" rel="next" href="/page/5/">Next <i class="fa fa-chevron-right"></i></a></li></ul></nav>
  </div>



        </div>
        <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
          
  <div class="sidebar-module sidebar-module-inset">
  <h4>About</h4>
  <p>Etiam porta <em>sem malesuada magna</em> mollis euismod. Cras mattis consectetur purus sit amet fermentum. Aenean lacinia bibendum nulla sed consectetur.</p>

</div>


  
  <div class="sidebar-module">
    <h4>Categories</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/algorithm/">algorithm</a><span class="sidebar-module-list-count">5</span></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>Tags</h4>
    <ul class="sidebar-module-list" itemprop="keywords"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/CVA/" rel="tag">CVA</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/algorithm/" rel="tag">algorithm</a><span class="sidebar-module-list-count">15</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/angular/" rel="tag">angular</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/aws/" rel="tag">aws</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/c/" rel="tag">c++</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/checkstyle/" rel="tag">checkstyle</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/cloud-architecture/" rel="tag">cloud architecture</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/coverage/" rel="tag">coverage</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/design/" rel="tag">design</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/django/" rel="tag">django</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/docker/" rel="tag">docker</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/dp/" rel="tag">dp</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/dynamo/" rel="tag">dynamo</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/elasticsearch/" rel="tag">elasticsearch</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/emacs/" rel="tag">emacs</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/emr/" rel="tag">emr</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/fzf/" rel="tag">fzf</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/general/" rel="tag">general</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/gerrit/" rel="tag">gerrit</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/git/" rel="tag">git</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/github/" rel="tag">github</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/google/" rel="tag">google</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/graph/" rel="tag">graph</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/hadoop/" rel="tag">hadoop</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/hexo/" rel="tag">hexo</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/invoke/" rel="tag">invoke</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/jacoco/" rel="tag">jacoco</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/java/" rel="tag">java</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/jekyll/" rel="tag">jekyll</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/jenkins/" rel="tag">jenkins</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/kibana/" rel="tag">kibana</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/mailchimp/" rel="tag">mailchimp</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/maven/" rel="tag">maven</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/mgmt/" rel="tag">mgmt</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/mockito/" rel="tag">mockito</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/mybatis/" rel="tag">mybatis</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/mysql/" rel="tag">mysql</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/nosql/" rel="tag">nosql</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/oauth/" rel="tag">oauth</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/proxy/" rel="tag">proxy</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/rake/" rel="tag">rake</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/regex/" rel="tag">regex</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/rest/" rel="tag">rest</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/ripgrep/" rel="tag">ripgrep</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/ruby/" rel="tag">ruby</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/spark/" rel="tag">spark</a><span class="sidebar-module-list-count">7</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/spring-in-action/" rel="tag">spring in action</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/spring-in-actions/" rel="tag">spring in actions</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/sql/" rel="tag">sql</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/ssh/" rel="tag">ssh</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/swagger/" rel="tag">swagger</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/system-design/" rel="tag">system design</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/template/" rel="tag">template</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/tmux/" rel="tag">tmux</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/tree/" rel="tag">tree</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/vscode/" rel="tag">vscode</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/wordgrep/" rel="tag">wordgrep</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/zeppelin/" rel="tag">zeppelin</a><span class="sidebar-module-list-count">1</span></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>Tag Cloud</h4>
    <p class="tagcloud">
      <a href="/tags/CVA/" style="font-size: 10px;">CVA</a> <a href="/tags/algorithm/" style="font-size: 20px;">algorithm</a> <a href="/tags/angular/" style="font-size: 17.14px;">angular</a> <a href="/tags/aws/" style="font-size: 15.71px;">aws</a> <a href="/tags/c/" style="font-size: 10px;">c++</a> <a href="/tags/checkstyle/" style="font-size: 10px;">checkstyle</a> <a href="/tags/cloud-architecture/" style="font-size: 11.43px;">cloud architecture</a> <a href="/tags/coverage/" style="font-size: 10px;">coverage</a> <a href="/tags/design/" style="font-size: 10px;">design</a> <a href="/tags/django/" style="font-size: 11.43px;">django</a> <a href="/tags/docker/" style="font-size: 15.71px;">docker</a> <a href="/tags/dp/" style="font-size: 10px;">dp</a> <a href="/tags/dynamo/" style="font-size: 11.43px;">dynamo</a> <a href="/tags/elasticsearch/" style="font-size: 10px;">elasticsearch</a> <a href="/tags/emacs/" style="font-size: 10px;">emacs</a> <a href="/tags/emr/" style="font-size: 11.43px;">emr</a> <a href="/tags/fzf/" style="font-size: 10px;">fzf</a> <a href="/tags/general/" style="font-size: 10px;">general</a> <a href="/tags/gerrit/" style="font-size: 10px;">gerrit</a> <a href="/tags/git/" style="font-size: 12.86px;">git</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/google/" style="font-size: 10px;">google</a> <a href="/tags/graph/" style="font-size: 10px;">graph</a> <a href="/tags/hadoop/" style="font-size: 10px;">hadoop</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/invoke/" style="font-size: 10px;">invoke</a> <a href="/tags/jacoco/" style="font-size: 10px;">jacoco</a> <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/jekyll/" style="font-size: 10px;">jekyll</a> <a href="/tags/jenkins/" style="font-size: 10px;">jenkins</a> <a href="/tags/kibana/" style="font-size: 10px;">kibana</a> <a href="/tags/mailchimp/" style="font-size: 10px;">mailchimp</a> <a href="/tags/maven/" style="font-size: 10px;">maven</a> <a href="/tags/mgmt/" style="font-size: 10px;">mgmt</a> <a href="/tags/mockito/" style="font-size: 10px;">mockito</a> <a href="/tags/mybatis/" style="font-size: 10px;">mybatis</a> <a href="/tags/mysql/" style="font-size: 11.43px;">mysql</a> <a href="/tags/nosql/" style="font-size: 10px;">nosql</a> <a href="/tags/oauth/" style="font-size: 10px;">oauth</a> <a href="/tags/proxy/" style="font-size: 10px;">proxy</a> <a href="/tags/rake/" style="font-size: 10px;">rake</a> <a href="/tags/regex/" style="font-size: 10px;">regex</a> <a href="/tags/rest/" style="font-size: 10px;">rest</a> <a href="/tags/ripgrep/" style="font-size: 10px;">ripgrep</a> <a href="/tags/ruby/" style="font-size: 10px;">ruby</a> <a href="/tags/spark/" style="font-size: 18.57px;">spark</a> <a href="/tags/spring-in-action/" style="font-size: 14.29px;">spring in action</a> <a href="/tags/spring-in-actions/" style="font-size: 10px;">spring in actions</a> <a href="/tags/sql/" style="font-size: 10px;">sql</a> <a href="/tags/ssh/" style="font-size: 11.43px;">ssh</a> <a href="/tags/swagger/" style="font-size: 10px;">swagger</a> <a href="/tags/system-design/" style="font-size: 11.43px;">system design</a> <a href="/tags/template/" style="font-size: 10px;">template</a> <a href="/tags/tmux/" style="font-size: 10px;">tmux</a> <a href="/tags/tree/" style="font-size: 10px;">tree</a> <a href="/tags/vscode/" style="font-size: 10px;">vscode</a> <a href="/tags/wordgrep/" style="font-size: 10px;">wordgrep</a> <a href="/tags/zeppelin/" style="font-size: 10px;">zeppelin</a>
    </p>
  </div>


  
  <div class="sidebar-module">
    <h4>Archives</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2021/06/">6월 2021</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2020/09/">9월 2020</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2020/04/">4월 2020</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/11/">11월 2019</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/08/">8월 2019</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/05/">5월 2019</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/04/">4월 2019</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/02/">2월 2019</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2019/01/">1월 2019</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/12/">12월 2018</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/11/">11월 2018</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/10/">10월 2018</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/08/">8월 2018</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/07/">7월 2018</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/06/">6월 2018</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/05/">5월 2018</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/04/">4월 2018</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/03/">3월 2018</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/02/">2월 2018</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/01/">1월 2018</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/12/">12월 2017</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/11/">11월 2017</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/10/">10월 2017</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/09/">9월 2017</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/07/">7월 2017</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/03/">3월 2017</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/02/">2월 2017</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/12/">12월 2016</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/11/">11월 2016</a><span class="sidebar-module-list-count">12</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/07/">7월 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/06/">6월 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/04/">4월 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/03/">3월 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/02/">2월 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/01/">1월 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/12/">12월 2015</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/11/">11월 2015</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/10/">10월 2015</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/08/">8월 2015</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/07/">7월 2015</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/06/">6월 2015</a><span class="sidebar-module-list-count">5</span></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>Recents</h4>
    <ul class="sidebar-module-list">
      
        <li>
          <a href="/2021/06/13/top-K-problem/">Top K problem</a>
        </li>
      
        <li>
          <a href="/2021/06/12/consistent-hashing/">Design distributed Cache</a>
        </li>
      
        <li>
          <a href="/2021/06/03/distributed-message-queue/">distribute message queue</a>
        </li>
      
        <li>
          <a href="/2020/09/06/design-patterns/">design patterns</a>
        </li>
      
        <li>
          <a href="/2020/08/31/wordgrep-pp/">WordGrep Privacy Policy</a>
        </li>
      
    </ul>
  </div>



        </div>
    </div>
  </div>
  <footer class="blog-footer">
  <div class="container">
    <div id="footer-info" class="inner">
      &copy; 2021 @nberserk<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

  
<script>
  var disqus_shortname = 'nberserk';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>




<script src="/js/script.js"></script>


<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>
